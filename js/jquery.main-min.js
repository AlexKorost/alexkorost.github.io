function initAnchors(){new SmoothScroll({anchorLinks:'a[href^="#"]:not([href="#"])',extraOffset:0,wheelBehavior:"none"})}function initBackgroundVideo(){jQuery(".bg-video").backgroundVideo({activeClass:"video-active"})}jQuery(function(){initAnchors(),initBackgroundVideo()}),function(t,i){var o,e,n,s=t(window),a="onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll";function r(i,s,r){var c;document.body&&(s="number"==typeof s?{duration:s}:s||{},o=o||t("html, body"),c=s.container||o,"number"==typeof i&&(i={top:i}),e&&n&&e.off(a,n),s.wheelBehavior&&"none"!==s.wheelBehavior&&(n=function(t){"stop"===s.wheelBehavior?(c.off(a,n),c.stop()):"ignore"===s.wheelBehavior&&t.preventDefault()},e=c.on(a,n)),c.stop().animate({scrollLeft:i.left,scrollTop:i.top},s.duration,function(){n&&c.off(a,n),t.isFunction(r)&&r()}))}function c(i){this.options=t.extend({anchorLinks:'a[href^="#"]',container:null,extraOffset:null,activeClasses:null,easing:"swing",animMode:"duration",animDuration:800,animSpeed:1500,anchorActiveClass:"anchor-active",sectionActiveClass:"section-active",wheelBehavior:"stop",useNativeAnchorScrolling:!1},i),this.init()}c.prototype={init:function(){this.initStructure(),this.attachEvents(),this.isInit=!0},initStructure:function(){var i=this;this.container=this.options.container?t(this.options.container):t("html,body"),this.scrollContainer=this.options.container?this.container:s,this.anchorLinks=jQuery(this.options.anchorLinks).filter(function(){return jQuery(i.getAnchorTarget(jQuery(this))).length})},getId:function(t){try{return"#"+t.replace(/^.*?(#|$)/,"")}catch(t){return null}},getAnchorTarget:function(i){var o=this.getId(t(i).attr("href"));return t(o.length>1?o:"html")},getTargetOffset:function(t){var i=t.offset().top;return this.options.container&&(i-=this.container.offset().top-this.container.prop("scrollTop")),"number"==typeof this.options.extraOffset?i-=this.options.extraOffset:"function"==typeof this.options.extraOffset&&(i-=this.options.extraOffset(t)),{top:i}},attachEvents:function(){var i=this;if(this.options.activeClasses&&this.anchorLinks.length){this.anchorData=[];for(var o=0;o<this.anchorLinks.length;o++){var e=jQuery(this.anchorLinks[o]),n=i.getAnchorTarget(e),a=null;t.each(i.anchorData,function(t,i){i.block[0]===n[0]&&(a=i)}),a?a.link=a.link.add(e):i.anchorData.push({link:e,block:n})}this.resizeHandler=function(){i.isInit&&i.recalculateOffsets()},this.scrollHandler=function(){i.refreshActiveClass()},this.recalculateOffsets(),this.scrollContainer.on("scroll",this.scrollHandler),s.on("resize.SmoothScroll load.SmoothScroll orientationchange.SmoothScroll refreshAnchor.SmoothScroll",this.resizeHandler)}this.clickHandler=function(t){i.onClick(t)},this.options.useNativeAnchorScrolling||this.anchorLinks.on("click",this.clickHandler)},recalculateOffsets:function(){var i=this;t.each(this.anchorData,function(t,o){o.offset=i.getTargetOffset(o.block),o.height=o.block.outerHeight()}),this.refreshActiveClass()},toggleActiveClass:function(t,i,o){t.toggleClass(this.options.anchorActiveClass,o),i.toggleClass(this.options.sectionActiveClass,o)},refreshActiveClass:function(){var i=this,o=!1,e=this.container.prop("scrollHeight"),n=this.scrollContainer.height(),a=this.options.container?this.container.prop("scrollTop"):s.scrollTop();this.options.customScrollHandler?this.options.customScrollHandler.call(this,a,this.anchorData):(this.anchorData.sort(function(t,i){return t.offset.top-i.offset.top}),t.each(this.anchorData,function(t){var s=i.anchorData.length-t-1,r=i.anchorData[s],c="parent"===i.options.activeClasses?r.link.parent():r.link;a>=e-n?s===i.anchorData.length-1?i.toggleActiveClass(c,r.block,!0):i.toggleActiveClass(c,r.block,!1):!o&&(a>=r.offset.top-1||0===s)?(o=!0,i.toggleActiveClass(c,r.block,!0)):i.toggleActiveClass(c,r.block,!1)}))},calculateScrollDuration:function(t){return"speed"===this.options.animMode?Math.abs(this.scrollContainer.scrollTop()-t.top)/this.options.animSpeed*1e3:this.options.animDuration},onClick:function(t){var i=this.getAnchorTarget(t.currentTarget),o=this.getTargetOffset(i);t.preventDefault(),r(o,{container:this.container,wheelBehavior:this.options.wheelBehavior,duration:this.calculateScrollDuration(o)}),this.makeCallback("onBeforeScroll",t.currentTarget)},makeCallback:function(t){if("function"==typeof this.options[t]){var i=Array.prototype.slice.call(arguments);i.shift(),this.options[t].apply(this,i)}},destroy:function(){var i=this;this.isInit=!1,this.options.activeClasses&&(s.off("resize.SmoothScroll load.SmoothScroll orientationchange.SmoothScroll refreshAnchor.SmoothScroll",this.resizeHandler),this.scrollContainer.off("scroll",this.scrollHandler),t.each(this.anchorData,function(t){var o=i.anchorData.length-t-1,e=i.anchorData[o],n="parent"===i.options.activeClasses?e.link.parent():e.link;i.toggleActiveClass(n,e.block,!1)})),this.anchorLinks.off("click",this.clickHandler)}},t.extend(c,{scrollTo:function(t,i,o){r(t,i,o)}}),i.SmoothScroll=c}(jQuery,this),function(t,i){var o,e=(o=[],{init:function(){i.on("load.bgVideo resize.bgVideo orientationchange.bgVideo",this.resizeHandler.bind(this))},resizeHandler:function(){this.isInit&&t.each(o,this.resizeVideo.bind(this))},buildPoster:function(t,i){i.css({"background-image":"url("+t.attr("poster")+")","background-repeat":"no-repeat","background-size":"cover"})},resizeVideo:function(t){var i=o[t],e=this.getDimensions({videoRatio:i.ratio,maskWidth:i.$holder.outerWidth(),maskHeight:i.$holder.outerHeight()});i.$video.css({width:e.width,height:e.height,marginTop:e.top,marginLeft:e.left})},getRatio:function(t){return t[0].videoWidth/t[0].videoHeight||t.attr("width")/t.attr("height")||t.width()/t.height()},getDimensions:function(t){var i=t.videoRatio,o=t.maskWidth,e=o/i;return e<t.maskHeight&&(o=(e=t.maskHeight)*i),{width:o,height:e,top:(t.maskHeight-e)/2,left:(t.maskWidth-o)/2}},add:function(i,o){var e=o.videoHolder?i.closest(o.videoHolder):i.parent(),n={$video:i,$holder:e,options:o};return i.attr("poster")&&this.buildPoster(i,e),i[0].readyState?(this.onVideoReady(n),i[0].paused?i[0].play():e.addClass(o.activeClass)):i.one("loadedmetadata",function(){i[0].paused?i[0].play():e.addClass(o.activeClass),this.onVideoReady(n)}.bind(this)),i.one("play",function(){e.addClass(o.activeClass),this.makeCallback.apply(t.extend(!0,{},this,n),["onPlay"])}.bind(this)),this.makeCallback.apply(t.extend(!0,{},this,n),["onInit"]),this},onVideoReady:function(i){this.isInit||(this.isInit=!0,this.init()),o.push(t.extend(i,{ratio:this.getRatio(i.$video)})),this.resizeVideo(o.length-1)},destroy:function(t){(o=t?o.filter(function(i){var o=i.$video.is(t);return o&&this.destroySingle(i),!o}.bind(this)):o.filter(this.destroySingle)).length||(this.isInit=!1,i.off(".bgVideo"))},destroySingle:function(t){t.$video.removeAttr("style").removeData("BackgroundVideo")[0].pause(),t.$holder.removeClass(t.options.activeClass)},makeCallback:function(t){if("function"==typeof this.options[t]){var i=Array.prototype.slice.call(arguments);i.shift(),this.options[t].apply(this,i)}}});t.fn.backgroundVideo=function(i){var o=Array.prototype.slice.call(arguments),n=o[0],s=t.extend({activeClass:"video-active",videoHolder:null},i);return this.each(function(){var t=jQuery(this),a=t.data("BackgroundVideo");"object"==typeof i||void 0===i?t.data("BackgroundVideo",e.add(t,s)):"string"==typeof n&&a&&"function"==typeof a[n]&&(o.shift(),a[n].apply(a,o))})},window.BgVideoController=e}(jQuery,jQuery(window));